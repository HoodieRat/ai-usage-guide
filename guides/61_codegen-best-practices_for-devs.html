<!-- filepath: guides/61_codegen-best-practices_for-devs.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Run a disciplined AI-assisted coding workflow from prompt to production.">
  <title>Codegen Best Practices for Developers | Everyday AI Guide</title>
  <link rel="icon" href="../assets/favicon.ico">
  <link rel="stylesheet" href="../css/main.css">
  <link rel="stylesheet" href="../css/prism.css">
</head>
<body data-base=".." class="theme-auto">
  <noscript>
    <div class="noscript-notice">JavaScript powers navigation, search, and theme controls. Enable it for the full experience.</div>
  </noscript>

  <header class="site-header" role="banner">
    <button class="mobile-nav-toggle" type="button" data-mobile-nav-toggle aria-expanded="false" aria-controls="sidebar">
      <span class="sr-only">Toggle navigation</span>
      <span aria-hidden="true"></span>
    </button>
    <a class="brand" href="../index.html">
      <img src="../assets/logo.svg" alt="Everyday AI Guide logo" class="brand-mark">
      <span class="brand-name">Everyday AI Guide</span>
    </a>
    <form class="search-form" role="search">
      <label class="sr-only" for="site-search">Search guides</label>
      <input id="site-search" type="search" name="q" placeholder="Search guides..." autocomplete="off" data-search-input>
    </form>
    <button type="button" class="theme-toggle" data-theme-toggle aria-pressed="false">
      <img src="../assets/icons/sun.svg" alt="" data-icon="sun">
      <img src="../assets/icons/moon.svg" alt="" data-icon="moon">
      <span class="sr-only">Toggle dark mode</span>
    </button>
  </header>

  <div class="layout">
    <nav id="sidebar" class="sidebar" aria-label="Guide navigation" data-nav></nav>

    <main id="content" class="site-main" role="main">
      <article class="guide">
        <header class="guide-header">
          <p class="eyebrow">Applied Skills</p>
          <h1>Codegen Best Practices for Developers</h1>
          <p class="intro">Blend human engineering discipline with ChatGPT-generated code so every change is traceable, testable, and easy to review.</p>
        </header>

        <section class="callout info">
          <p><strong>Related guides:</strong> Connect with <a href="../guides/25_redaction-and-sanitization.html">Redaction &amp; Sanitization</a> for sensitive code, <a href="../guides/41_task-chains-and-delegation.html">Task Chains &amp; Delegation</a> for multi-role workflows, and <a href="../guides/82_quality-assurance_loops.html">Quality Assurance Loops</a> to automate regression checks.</p>
        </section>

        <section class="callout warning">
          <p><strong>Compliance:</strong> Respect license requirements, secure secrets, and run static analysis before merging AI-generated code. Document provenance for every third-party snippet.</p>
        </section>

        <section id="what-youll-learn" class="guide-section">
          <h2>What youâ€™ll learn</h2>
          <ul>
            <li>Designing prompts that align with your codebase architecture and standards.</li>
            <li>Reviewing and testing AI-generated diffs before merge.</li>
            <li>Maintaining an audit trail of prompts, outputs, and approvals.</li>
          </ul>
        </section>

        <section id="prerequisites" class="guide-section">
          <h2>Prerequisites</h2>
          <ul>
            <li>Repo access with branching strategy (feature branches or trunk-based with guards).</li>
            <li>Automated test suite and linting configured locally or via CI.</li>
            <li>Documented coding standards and code review checklist.</li>
          </ul>
        </section>

        <section id="step-by-step" class="guide-section">
          <h2>Step-by-step</h2>
          <ol>
            <li><strong>Frame the change.</strong> Draft a short design brief covering the bug/feature, affected files, constraints, and acceptance tests.</li>
            <li><strong>Prime ChatGPT.</strong> Paste relevant code snippets or interface definitions and restate your standards (language version, formatting, dependency rules).</li>
            <li><strong>Request a diff.</strong> Ask for unified diff output or patch chunks that can be applied via `git apply`, and request inline comments explaining non-obvious choices.</li>
            <li><strong>Run automated checks.</strong> Apply the diff locally, run linters, unit tests, and security scans. Capture failures and ask ChatGPT to iterate with the logs as context.</li>
            <li><strong>Review critically.</strong> Read every line. Validate algorithm choices, dependency additions, and error handling. Reject hallucinated APIs.</li>
            <li><strong>Document provenance.</strong> Log the prompt, response, manual edits, and test results in your runbook or issue tracker.</li>
            <li><strong>Submit for human review.</strong> Open a pull request with the diff, ChatGPT transcript, and checklist results. Incorporate reviewer feedback before merging.</li>
          </ol>
        </section>

        <section id="output-contract" class="guide-section">
          <h2>Output contract</h2>
          <p>Every AI-assisted change should include:</p>
          <ul>
            <li><strong>Project manifest:</strong> JSON output that validates against <a href="../guardrails/project-manifest-schema.json">project-manifest-schema.json</a> (or CSV fallback when JSON is impossible).</li>
            <li><strong>Structured prompt pack:</strong> Design brief, prompts, and relevant context.</li>
            <li><strong>Annotated diff:</strong> Patch with comments or commit messages explaining the rationale.</li>
            <li><strong>Test evidence:</strong> Logs or screenshots showing passing tests and linters.</li>
            <li><strong>Review log:</strong> Link to code review discussion, approvals, and follow-up tasks.</li>
          </ul>
        </section>

        <section id="copy-assets" class="guide-section">
          <h2>Copy &amp; paste assets</h2>
          <h3>Prompt scaffold</h3>
          <pre><code>Repo: {{name}}
Goal: {{bug or feature}}
Constraints: {{language version, style rules, dependencies}}
Tests that must pass: {{list}}
Relevant code:
```
{{snippet}}
```
Produce a unified diff against {{file list}} with:
- clear comments for new logic
- no external dependencies without approval
- matching existing logging & error patterns
Suggest follow-up tests if coverage is weak.</code></pre>
          <h3>Implementation tables</h3>
          <p>Before asking ChatGPT for diffs, paste the deterministic tables from <a href="../guardrails/implementation-tables.md">Implementation Table Templates</a> so the assistant can target the exact files and functions.</p>
          <div class="callout note">
            <p><strong>Table variants:</strong></p>
            <ul>
              <li><strong>Method generation table:</strong> Columns for filename, signature, purpose, acceptance criteria, and notes. Use it to request one method at a time.</li>
              <li><strong>File generation table:</strong> Filename, description, required exports, acceptance tests, and delivery notes. Ideal for large scaffolds.</li>
              <li><strong>Fix backlog table:</strong> File, function/area, issue, fix plan, and expected acceptance outcome. Share one row so the assistant focuses on the repair.</li>
              <li><strong>Sprint table:</strong> Item, owner, scope, dependencies, definition of done, and target demo. Helps the model draft or update sprint briefs.</li>
            </ul>
            <p>Send the assistant a single row when you need a targeted diff, then append the result back into the table so the artifact stays current.</p>
          </div>
          <h3>Code review checklist</h3>
          <pre><code>- [ ] Diff applies cleanly and compiles
- [ ] Tests and linting pass locally
- [ ] No secrets or credentials added
- [ ] Error handling and logging consistent with repo
- [ ] Licensing reviewed for AI-sourced snippets
- [ ] Rollback plan documented</code></pre>
        </section>

        <section id="logging" class="guide-section">
          <h2>Logging</h2>
          <p>Track issue ID, branch name, prompt hash, applied diff hash, test outcomes, reviewer approvals, and deployment date.</p>
        </section>

        <section id="metrics" class="guide-section">
          <h2>Metrics that matter</h2>
          <ul>
            <li><strong>Cycle time:</strong> Hours from prompt to merged pull request.</li>
            <li><strong>Defect escape rate:</strong> Bugs reported post-merge on AI-assisted changes.</li>
            <li><strong>Review rework:</strong> Percentage of AI-generated diffs requiring substantial rewrite.</li>
          </ul>
        </section>

        <section id="idea-to-project-structure" class="guide-section">
          <h2>Idea to project structure workflow</h2>
          <p>Run this two prompt sequence whenever you spin up new files or major refactors.</p>
          <h3>Prompt 1: Idea to structure</h3>
          <p>Paste the following request into ChatGPT along with the templates, schema, guardrail docs, TODO checklist, and context pack files. Link directly to <code>guardrails/implementation-tables.md</code>, <code>guardrails/project-manifest-schema.json</code>, <code>guardrails/output-contracts.md</code>, <code>guardrails/validation.md</code>, <code>guardrails/context-pack.md</code>, <code>context/file-tree.txt</code>, <code>context/call-graph.json</code>, <code>context/dead-code.json</code>, <code>context/signatures.csv</code>, and <code>TODO.md</code> so the assistant can copy them.</p>
          <pre><code>Use my templates below to generate a project plan from the IDEA.

Return exactly:
1) File-level Implementation Table (columns: Filename, Description, Methods/Functions, Imports, Exports).
2) Method Cross-Reference Table (columns: File, Method/Function signature, Where it is called (filepath:method), Calls (filepath:method), Notes).
3) A JSON project manifest that validates against my schema (no prose - JSON only).

Rules:
- Use relative paths.
- Show realistic function signatures.
- Keep imports/exports explicit.
- Do not generate any source code in this step.

IDEA:
{{paste your idea}}

TEMPLATES:
{{paste tables from guardrails/implementation-tables.md}}

SCHEMA:
{{paste guardrails/project-manifest-schema.json}}

GUARDRAILS:
{{paste guardrails/output-contracts.md}}
{{paste guardrails/validation.md}}

CONTEXT PACK:
{{paste guardrails/context-pack.md}}
{{paste context/file-tree.txt}}
{{paste context/call-graph.json}}
{{paste context/dead-code.json}}
{{paste context/signatures.csv}}

TODO:
{{paste TODO.md section "AI coding TODO list"}}</code></pre>
          <p>Make sure the response contains both Markdown tables with the exact headers and JSON that passes <code>npx ajv validate -s guardrails/project-manifest-schema.json -d manifest.json</code>. If anything is missing, ask for a corrected run.</p>
          <h3>Prompt 2: Generate files</h3>
          <p>After the structure is approved, request the source files.</p>
          <pre><code>Now generate complete source files for every row in the File-level Implementation Table.
For each file:
- Put the relative path as the first line: &lt;!-- filepath: relative/path.ext --&gt;
- Wrap with //START and //DONE markers.
- No extra commentary outside the code block.</code></pre>
          <p>Save each block exactly as returned and run tests plus linters before committing. If JSON was not possible in the first step, keep the CSV fallback with the same column order.</p>
          <p>Automate the two step flow with <code>python scripts/chatgpt_workflow_runner.py</code> (documented in <a href="../guardrails/automation-workflow.md">ChatGPT automation workflow</a>) when you need repeatable results.</p>
        </section>

        <section id="tips-and-pitfalls" class="guide-section">
          <h2>Tips &amp; pitfalls</h2>
          <ul>
            <li><strong>Limit context windows:</strong> Share only essential files to keep responses focused and fast.</li>
            <li><strong>Request explanations:</strong> When ChatGPT proposes unfamiliar patterns, ask it to justify choices before accepting.</li>
            <li><strong>Automate regression tests:</strong> Wire generated changes into CI quickly so failures surface early.</li>
            <li><strong>Rotate reviewers:</strong> Spread knowledge and catch blind spots by rotating human reviewers on AI-assisted changes.</li>
          </ul>
        </section>

        <section id="recap" class="guide-section">
          <h2>Recap</h2>
          <p>AI accelerates coding when you control the prompts, verify every diff, and capture a transparent trail from idea to merge.</p>
        </section>

        <footer class="guide-footer">
          <p class="update-note">Published October 31, 2025.</p>
        </footer>
      </article>
    </main>
  </div>

  <div class="search-panel" data-search-results hidden>
    <div class="search-results-header">
      <span class="search-results-title">Search results</span>
      <button type="button" class="search-close" data-search-close>Close</button>
    </div>
    <ul class="search-results-list" data-search-results-list></ul>
  </div>

  <script src="../js/nav.js" defer></script>
  <script src="../js/search.js" defer></script>
  <script src="../js/main.js" defer></script>
  <script src="../js/prism.js" defer></script>
</body>
</html>
